<h1>ACE</h1>
<p>Accessible Custom Elements (ACE) is a library of UI components that are accessible to users who rely on assistive technologies or keyboard navigation. ACE components have full keyboard support and all the required WAI-ARIA roles, states and properties specified in the <a href="https://www.w3.org/TR/wai-aria-practices-1.1">W3 WAI-ARIA Authoring Practices 1.1</a>.</p>
<p>The components all have minimal CSS styling applied to them that can be easily overridden making them compatible with almost any design system. Most of the components are provided in different variants that cover common use cases. This helps developers create rich, dynamic and creative websites that are also fully accessible for all users. More information about ACE can be found <a href="https://ace.p.ota.to/about">here</a>.</p>
<h2>Installation</h2>
<p>To install all ACE components and the common files required by them run</p>
<pre><code class="language-bash">npm i @potato/ace
</code></pre>
<p>or</p>
<pre><code class="language-bash">yarn add @potato/ace
</code></pre>
<p>To use a component import the class into your main JavaScript file:</p>
<pre><code class="language-js">import '&lt;path-to-node_modules&gt;/@potato/ace/components/&lt;component-name&gt;/&lt;component-name&gt;';
</code></pre>
<p>Then import the component's SASS file into a SASS file in your project, replacing <code>&lt;path-to-node_modules&gt;</code> with the path to the <em>node_modules</em> directory relative to the file, and <code>&lt;component-name&gt;</code> with the component name:</p>
<pre><code class="language-scss">@import '&lt;path-to-node_modules&gt;/@potato/ace/components/&lt;component-name&gt;/&lt;component-name&gt;';
</code></pre>
<p>Alternatively, you can import the component's CSS file into a CSS file in your project:</p>
<pre><code class="language-css">@import '&lt;path-to-node_modules&gt;/@potato/ace/components/&lt;component-name&gt;/&lt;component-name&gt;.css';
</code></pre>
<p>Specific instructions for how to use a particular component can be found on the component's webpage, along with live examples, or in the component's <em>README</em> file located at <em>&lt;path-to-node_modules&gt;/@potato/ace/&lt;component-name&gt;/READE.md</em>.</p>
<p>For example, the Accordion component instructions can be found on it's <a href="https://ace.p.ota.to/accordion">webpage</a> or in <em>&lt;path-to-node_modules&gt;/@potato/ace/accordion/README.md</em>.</p>
<h2>Component SASS variables</h2>
<p>ACE components define SASS variables using the <code>!default</code> keyword, allowing developers to easily configure component styles by simply assigning a value to the variable before importing the SASS file where the variable is defined.</p>
<p>For example, the selected option highlight color of the Listbox component can be changed as follows:</p>
<pre><code class="language-scss">/* Override ACE variable... */
$ace-listbox-selected-option-bg-color: #cccccc;

/* Then import SASS file where ACE variable is defined */
@import '&lt;path-to-node_modules&gt;/node_modules/@potato/ace/listbox/listbox';
</code></pre>
<h2>Using ACE with JavaScript frameworks</h2>
<h3>Vue</h3>
<p>The following example shows how ACE components can be used with Vue (v3+). More general information about how to use web components with Vue can be found in <a href="https://v3.vuejs.org/guide/web-components.html#skipping-component-resolution">Vue's Web Components guide</a>.</p>
<p>The example demonstrates:</p>
<ul>
<li>Passing data from a parent component to an ACE Accordion component via <code>props</code>.</li>
<li>Using the <code>created</code> &amp; <code>unmounted</code> lifecycle hooks in the parent component to listen for a custom event dispatched by Accordion, to conditionally disable a button.</li>
<li>Using template refs to dispatch a custom event on Accordion from a parent component.</li>
</ul>
<p>Starting with a fresh project, created using the Vue CLI and <code>vue create</code>, ACE was installed using <code>npm i @potato/ace</code> before the following changes were made.</p>
<p><em><strong>src/components/Accordion.vue</strong></em></p>
<pre><code class="language-html">&lt;template&gt;
&lt;ace-accordion ref=&quot;accordion&quot;&gt;
	&lt;template v-for=&quot;(panel, index) of content&quot; :key=&quot;index&quot;&gt;
		&lt;h3&gt;
			&lt;button&gt;{{panel.trigger}}&lt;/button&gt;
		&lt;/h3&gt;
		&lt;div&gt;
			&lt;p&gt;{{panel.content}}&lt;/p&gt;
		&lt;/div&gt;
	&lt;/template&gt;
&lt;/ace-accordion&gt;
&lt;/template&gt;


&lt;script&gt;
import {EVENTS} from '@potato/ace/components/accordion/accordion';

export default {
  name: 'Accordion',
  props: {
    content: Array
  },
	methods: {
		collapseAll() {
			this.$refs.accordion.dispatchEvent(
				new CustomEvent(EVENTS.IN.HIDE_PANELS)
			);
    }
	}
}
&lt;/script&gt;


&lt;style&gt;
@import '~@potato/ace/components/accordion/ace-accordion.css';
&lt;/style&gt;
</code></pre>
<p><em><strong>src/App.vue</strong></em></p>
<pre><code class="language-html">&lt;template&gt;
  &lt;Accordion :content=&quot;accordionContent&quot; ref=&quot;mainAccordion&quot;/&gt;

  &lt;button :disabled=&quot;panelsCollapsed&quot; @click=&quot;collapseAll&quot;&gt;
    Collapse all
  &lt;/button&gt;
&lt;/template&gt;


&lt;script&gt;
import Accordion from './components/Accordion.vue';
import {ATTRS, EVENTS} from '@potato/ace/components/accordion/accordion';

export default {
  name: 'App',
  components: {
    Accordion
  },
  data() {
    return {
      accordionContent: [
        {
          content: 'Panel 1 content',
          trigger: 'Panel 1 trigger',
        },
        {
          content: 'Panel 2 content',
          trigger: 'Panel 2 trigger',
        },
        {
          content: 'Panel 3 content',
          trigger: 'Panel 3 trigger',
        },
      ],
      panelsCollapsed: true,
    }
  },
  created () {
    window.addEventListener(EVENTS.OUT.CHANGED, this.onPanelChange);
  },
  unmounted () {
    window.removeEventListener(EVENTS.OUT.CHANGED, this.onPanelChange);
  },
  methods: {
    collapseAll() {
      this.$refs.mainAccordion.collapseAll();
    },
    onPanelChange() {
      this.panelsCollapsed = document.querySelectorAll(`[${ATTRS.PANEL_VISIBLE}]`).length === 0;
    },
  },
}
&lt;/script&gt;
</code></pre>
<p><em><strong>vue.config.js</strong></em></p>
<pre><code class="language-js">module.exports = {
  chainWebpack: config =&gt; {
    config.module
      .rule('vue')
      .use('vue-loader')
      .tap(options =&gt; ({
        ...options,
        compilerOptions: {
          // treat any tag that starts with ace- as custom elements
          isCustomElement: tag =&gt; tag.startsWith('ace-')
        }
      }))
  }
}
</code></pre>
